

\title{Exploring Endofunctions via Composition}
%\author{
%        Chad Brewbaker \\
%        DataCulture LLC\\
%        Clive, Iowa 50325, \underline{U.S.A}
%}
\date{\today}

\documentclass{article}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{amsthm}
\usepackage{graphicx}
\graphicspath{ {img/} }

\newtheorem{thm}{Theorem}[section]
\newtheorem{defn}[thm]{Definition}
\newtheorem{exam}[thm]{Example}
%\theoremstyle{plain}
%\newtheorem{thm}{Theorem}% reset theorem numbering for each chapter

%\theoremstyle{definition}
%\newtheorem{defn}[thm]{Definition} % definition numbers are dependent on theorem numbers
%\newtheorem{exmp}[thm]{Example}



\begin{document}

\maketitle

\begin{abstract}
We examine properties of endofunctions on a finite set under general an self-composition (iteration). Using this technique we derive an optimal search strategy for black box subgroup detection. We also gain insight into the complxity of boolean matrix multiplication, the complexity of integer factorization, and the structure of compositional equality relations.
\end{abstract}

\section{Introduction}

In this paper we study functions $f$ from a finite set $a$ back into $a$.

\begin{lstlisting}
f :: a -> a 
\end{lstlisting}

A combinatorial interpretation of, $x^{y}$  is the number of functions from a size $y$ set to an $x$ set.

\begin{lstlisting}
f :: x -> y 
\end{lstlisting}

This duality between exponentials and functions gives us a common medium to synthesize views from both algebraic and functional viewpoints.

Recall this algebraic identity we learned in primary school.

$$(a^{m})^{n} = a^{mn}$$

Translated from exponential notation into functional notation we have:
\begin{lstlisting}
curry :: n -> m -> a
curry' :: (n,m) -> a
\end{lstlisting}

% I can never remember how to format umlauts etc in latex, http://tex.stackexchange.com/questions/57743/how-to-write-ä-and-other-umlauts-and-accented-letters-in-bibliography
Ref Curry, Haskell (1934), "Functionality in Combinatory Logic", Proceedings of the National Academy of Sciences 20, pp. 584?590

J. Richard B\"{u}chi \cite{buchi1962} described how we can use either transition (multiplication) tables, transition graphs, or transition trees to give us the viewpoint that best fits our discussion. A quality English translation was made by Sylvia B\"{u}chi, Peter Deussen and Dirk Siefkes \cite{maclane1990}.


\begin{figure}[h]
    \centering
    \includegraphics[height=4cm]{buchiTrinity}
    \caption{Diagram made by B\"{u}chi}
   
\end{figure}

Discuss binary endofunctions as endofunctions when you fix the left (right) argument, fix the row (column) of the multiplication table.

\begin{lstlisting}
f :: a -> a -> a 
\end{lstlisting}

Discuss Magmas vs Semigroups. Function composition is associative so we are dealing with semigroups.

%Extend our results to M{n} full set of full Magmas on $n$ elements? What crazy stuff happens? All the full mult tables on $n$ elements that are not associative plus $T_{n}$.
%Magma elements still have index and period. Only our results that require associativity will break.

%Automata (rows have labels of a different type than the column labels or entries) vs binary endofunctions.

%Given a multiplication tablediscuss how to test for totality O(n^2) make sure every entry is in bounds, asssociativity, identiy O(n) look at identity row/column, divisibility, and communitivy.

\begin{defn}[Endofunction] A function with domain and co-domain of the same type.\end{defn}
\begin{defn}[Semigroup] A collection of endofunctions closed under composition. Each endofunction may be thought of as a row in it's multiplication table. \end{defn}
\begin{defn}[Full Transformation Semigroup on $n$ elements ] The collection of all endofunctions on an $n$ element set. Denoted $T_{n}.$\end{defn}

\begin{exam} Multiplication table of $T_{2}$ here.\end{exam}

\begin{defn}[Iteration] Self composition of an endofunction. For $i$ self compositions on endofunction $f$ we denote this $f^{i}$\end{defn}

\begin{defn}[Index] Given an endofunction, the number iterations until it enters a cycle.\end{defn}
\begin{defn}[Period] Given an endofunction, the length of it's cycle under iteration.\end{defn}

\begin{defn}[Permutation] An endofunction with index of zero.\end{defn}

\begin{defn}[Symmetric group on $n$ elements] The set of all permutations on $n$ elements. Denoted $S_{n}$.\end{defn}
\begin{exam} Multiplication table of $S_{3}$ here.\end{exam}
\begin{defn}[Idempotent] An endofunction with index of zero and period of 1.\end{defn}

\begin{defn}[Reluctant function] An endofunction with index of at least 1.\end{defn}
\begin{defn}[Monogenic semigroup] A semigroup generated by one element. For permutations these are called cyclic groups.\end{defn}

\begin{defn}[Binary Matrix Multiplication] Matrix multiplication on the integers modulo 2. For this paper all matrices will be considered square.\end{defn}

\begin{exam} Multiplication table of $BMM_{2}$ here.\end{exam}

\begin{defn}[co-BMM] Matrix multiplication on the integers modulo 2 with addition an multiplication operations swapped.\end{defn}

\begin{defn}[$Z^{+}_{n}$] Integers modulo $n$ under addition. \end{defn} 

\begin{exam} Multiplication table of $Z^{+}_{6}$ here.\end{exam}

\begin{defn}[$Z^{\times}_{n}$] Integers modulo $n$ under multiplication. \end{defn} 

\begin{exam} Multiplication table of $Z^{\times}_{6}$ here.\end{exam}

\begin{tabular}{ |c |c |c |c |c |c |c | }\hline
$Z_6^\times$&0&1&2&3&4&5\\ \hline
0&0&0&0&0&0&0\\ \hline
1&0&1&2&3&4&5\\ \hline
2&0&2&4&0&2&4\\ \hline
3&0&3&0&3&0&3\\ \hline
4&0&4&2&0&4&2\\ \hline
5&0&5&4&3&2&1\\ \hline
\end{tabular}

\begin{defn}[Factoring] Given an endofunction $f$; return two endofunctions $g,h$, neither an identity function, such that $ f = g(h)$.\end{defn}
\begin{defn}[Multiplication] Given an endofunctions $g,h$; return an endofuction $f$, such that $ f = g(h)$.\end{defn}
\begin{defn}[Left factoring] Given an endofunctions $f,h$; return an endofuction $g$, such that $ f = g(h)$.\end{defn}
\begin{defn}[Right factoring] Given an endofunctions $f,g$; return an endofuction $h$, such that $ f = g(h)$.\end{defn}



\begin{defn}[Game of Life] Automata on orthogonal grid with binary values defined by John Conway. For this paper we will use square toroidal grids, Top/Bottom rows and Left/Right columns are considered adjacent. 
States are Live and Dead. Live cell with less than two Live neighbors dies. Live cell with 2 or 3 Live neighbors lives.  Live cell with more than 3 Live neighbors dies. Dead cell with exactly 3 live neighbors becomes Live.\end{defn} 

\begin{defn}[Detection] Given two endofunctions $f$ and $g$, if $f^{i} = g$, then $g$ is said to detect $f$. \end{defn}


\begin{exam} Examples with permutations and $Z_{1000}^{\times}$\end{exam}


Our first tool is "endoscope". It is a function on an ordered set $a$. The arguments are a list of elements in the set $a$, and the endofunction under study. It returns pairs of element in the set and where it ends up after some number of self-compositions.
\begin{lstlisting}
endoscope :: Ord a => [a] -> (a -> a -> a) -> Set (a,a)
\end{lstlisting}


The function "idempotents" takes a list of elements and an endofunction. It returns the list of elements that are idempotent when passed through the endofunction.
\begin{lstlisting}
idempotents :: Ord a => [a] -> (a -> a -> a) -> [a]
idempotents elts mult = filter isSame elts 
       where
        isSame x = mult x x == x 
\end{lstlisting}







\section{Permuation function spaces, $S_{n}$}

\begin{lstlisting}
perm :: a -> a
-- perm must be a cycle under iteration 
\end{lstlisting}


Edges under iteration

Idempotents (connected components)

Histogram of index,period.

Forgetfull functions: By definition permutation function sets have no forgetfull functions.

Leaves

Group-likes
\section{Transformation function spaces, $T_{n}$}

Edges under iteration

Idempotents (connected components)

Histogram of index,period.

Reluctant functions. \cite{mullin1970} 

Leaves

Group-likes



\section{Multiplication in $Z_{n}$ }

Edges under iteration

Idempotents (connected components)

Histogram of index,period.

Forgetfull functions

Leaves

Group-likes


What does this tell us about integer factorization?


\section{Addition in $Z_{n}$ }

Edges under iteration
\href{http://www.oeis.org/A057660}{OEIS A057660}, the sum of orders of elements in a cyclic group with $n$ elements. $$\sum_{k=1..n} {n \over GCD(n,k)}$$

Idempotents (connected components)

Histogram of index,period.

Forgetfull functions

Leaves

Group-likes

\section{$Z_{2}$ matrix multiplication }
Boolean matrix-matrix multiplication (BMM) is a fundamental subroutine in many computations from transitive closure to parsing context free grammars\cite{valiant1975}.

Traditionally the complexity of BMM is written by $O(n^{\omega})$, where $\omega$ approaches $2$ as researchers derive faster BMM algorithms.
%My personal conjecture is that BMM is $O((n log n)^{2} )$ (Chad)
% bmm :: m -> m -> m
% $m^{m \times m}$ is the function space where $m$ is a set the size $2^{m \times m}$
%Of course we aren't grabbing all functions from that pair, just those that are legal BMM results.
%Can we come up with a compression method formulation as a BMM lower bound?
%Compress the serialized m,m,m triples into FSA. Do FSA minimization. Feasible on 3x3 BMM? (2^{9})*(2^{9}) words in the language. All words length 27.
%What permutation of these triples allows us to reduce average rejection prefix for an illegal word? Thats feasible for 2x2 BMM very quickly.

Combinatorially we take pairs of incoming and outgoing edges then choose among them.

Edges under iteration

Idempotents (connected components), same as fixed points?

Histogram of index,period.

Forgetfull functions

Leaves

Group-likes


What does this tell us about the complexity of BMM?



\section{$Z_{2}$ matrix co-multiplication }
We define boolean matrix-matrix co-multiply (co-BMM) as the function where we have swapped the multiply and addition operators. 

As a data type, each resulting entry is the $n$-tuple consisting of entries that are either $A_{i,k}$ or $B_{k,j}$. If view $A$ and $B$ as graphs, with rows being outgoing edges and columns as incoming edges; we have $n$-tuples of chosing either the incoming or outgoing edge for each entry.

\section{Compositional equality relations}



\appendix{New  OEIS Sequences}

\appendix{Haskell source}

\nocite{*}
\bibliographystyle{plain}
\bibliography{biblio}
\end{document}
